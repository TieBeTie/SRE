# Ansible Inventory for PostgreSQL HA Cluster
# Student 5 Infrastructure

# Localhost (for cloud resources play, but we're not using cloud)
localhost ansible_connection=local ansible_become=no

# etcd cluster (DCS - Distributed Configuration Store)
[etcd_cluster]
etcd1 ansible_host=77.105.182.79 ansible_port=25025 hostname=etcd1
etcd2 ansible_host=77.105.182.79 ansible_port=25026 hostname=etcd2
etcd3 ansible_host=77.105.182.79 ansible_port=25027 hostname=etcd3

# HAProxy load balancer
[balancers]
balancer ansible_host=77.105.182.79 ansible_port=25022 hostname=balancer

# PostgreSQL master node
[master]
bd1 ansible_host=77.105.182.79 ansible_port=25023 hostname=bd1 postgresql_exists=false

# PostgreSQL replica node
[replica]
bd2 ansible_host=77.105.182.79 ansible_port=25024 hostname=bd2 postgresql_exists=false

# PostgreSQL cluster group
[postgres_cluster:children]
master
replica

# PostgreSQL cluster group
# (using default Python interpreter from [all:vars])

# Connection settings for all hosts
[all:vars]
ansible_connection=ssh
ansible_user=tiebetie
ansible_ssh_private_key_file=/home/rama/SRE/SRE_MTS_TIEBETIE
ansible_python_interpreter=/usr/bin/python3
ansible_become=yes
ansible_become_method=sudo
# Disable host key checking for lab environment
ansible_ssh_common_args='-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
